{"ast":null,"code":"var _jsxFileName = \"/Users/devanshkaloti/Desktop/react-learning/thdproductquerys/src/Pages/HomePage.js\",\n    _s = $RefreshSig$();\n\nimport React, { createRef, useContext, useEffect, useState } from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport { Grid } from \"@material-ui/core\";\nimport FiltersComponent from \"../Components/FiltersComponent\";\nimport ProductListComponent from \"../Components/ProductListComponent\";\nimport { FiltersContext } from \"../FiltersContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst HomePage = () => {\n  _s();\n\n  const [loading, setLoading] = useState(false);\n  const [data, setData] = useState();\n  const {\n    filtersObj,\n    updateFilters\n  } = useContext(FiltersContext);\n  useEffect(() => fetchData(), []);\n\n  function getFilterOptions(filteredData, keyName) {\n    const options = [];\n    filteredData.map(row => {\n      options.push(row[keyName]);\n    });\n    return [...new Set(options)];\n  }\n\n  function setFiltersObject(data) {\n    let object = {\n      name: \"code\",\n      options: getFilterOptions(data, 'brand'),\n      ref: /*#__PURE__*/createRef(),\n      changeOption: changeFilterOption\n    };\n    updateFilters([object]);\n  }\n\n  const changeFilterOption = (currentI, newOption = \"AAA\") => {\n    if (filtersObj !== undefined && filtersObj[currentI] !== undefined) {\n      filtersObj[currentI].selectedOption = newOption;\n      console.log(filtersObj[currentI].selectedOption = newOption);\n      updateFilters(filtersObj);\n    }\n  };\n\n  const fetchData = () => {\n    setLoading(true);\n    fetch(\"https://www.homedepot.ca/api/search/v1/search?category=l4-buffets-sideboards&store=7008&filter=&pageSize=40&lang=en\").then(response => response.json()).then(data => {\n      setData(data['products']);\n      setFiltersObject(data['products']);\n    }); // .then(() => setLoading(false))\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: '30px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"false\",\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 4,\n          children: /*#__PURE__*/_jsxDEV(FiltersComponent, {\n            filtersObj: filtersObj\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 8,\n          children: /*#__PURE__*/_jsxDEV(ProductListComponent, {\n            loading: loading,\n            products: data\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 12\n  }, this);\n};\n\n_s(HomePage, \"FmCIJ6xFumQIrYYESi9uSCa2TiU=\");\n\n_c = HomePage;\nexport default HomePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"sources":["/Users/devanshkaloti/Desktop/react-learning/thdproductquerys/src/Pages/HomePage.js"],"names":["React","createRef","useContext","useEffect","useState","CssBaseline","Typography","Container","Grid","FiltersComponent","ProductListComponent","FiltersContext","HomePage","loading","setLoading","data","setData","filtersObj","updateFilters","fetchData","getFilterOptions","filteredData","keyName","options","map","row","push","Set","setFiltersObject","object","name","ref","changeOption","changeFilterOption","currentI","newOption","undefined","selectedOption","console","log","fetch","then","response","json","marginTop"],"mappings":"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","sourcesContent":["import React, {createRef, useContext, useEffect, useState} from 'react'\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport {Grid} from \"@material-ui/core\";\nimport FiltersComponent from \"../Components/FiltersComponent\";\nimport ProductListComponent from \"../Components/ProductListComponent\";\nimport {FiltersContext} from \"../FiltersContext\";\n\nconst HomePage = () => {\n    const [ loading, setLoading ] = useState(false)\n    const [ data, setData ] = useState()\n    const { filtersObj, updateFilters } = useContext(FiltersContext)\n\n    useEffect(() => fetchData(), []);\n\n    function getFilterOptions(filteredData, keyName) {\n        const options = []\n        filteredData.map((row) => {\n            options.push(row[keyName])\n        })\n        return [...new Set(options)]\n    }\n\n    function setFiltersObject(data) {\n        let object = {\n            name: \"code\",\n            options: getFilterOptions(data, 'brand'),\n            ref: createRef(),\n            changeOption: changeFilterOption\n        }\n        updateFilters([object])\n    }\n\n    const changeFilterOption = (currentI, newOption = \"AAA\") => {\n        if (filtersObj !== undefined && filtersObj[currentI] !== undefined) {\n            filtersObj[currentI].selectedOption = newOption\n            console.log(filtersObj[currentI].selectedOption = newOption)\n            updateFilters(filtersObj)\n        }\n    }\n\n    const fetchData = () => {\n        setLoading(true)\n\n        fetch(\"https://www.homedepot.ca/api/search/v1/search?category=l4-buffets-sideboards&store=7008&filter=&pageSize=40&lang=en\")\n            .then(response => response.json())\n            .then(data => {\n                setData(data['products'])\n                setFiltersObject(data['products'])\n            })\n            // .then(() => setLoading(false))\n    }\n\n    return <div style={{marginTop: '30px'}}>\n        <CssBaseline />\n        <Container maxWidth=\"false\">\n            <Grid container spacing={3}>\n                <Grid item xs={4}>\n                    <FiltersComponent filtersObj={filtersObj} />\n                </Grid>\n                <Grid item xs={8}>\n                    <ProductListComponent loading={loading} products={data} />\n                </Grid>\n            </Grid>\n        </Container>\n    </div>\n}\n\nexport default HomePage"]},"metadata":{},"sourceType":"module"}